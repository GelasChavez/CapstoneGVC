@model CapstoneGVC.Contracts.DataTransferObjects.ViewModels.TarjetaVm
@{
    ViewData["Title"] = "Página Principal";
}

<div class="text-center">
    <h1 class="display-4">Capstone Project</h1>
    <p>Gelasio Villa Chávez</p>
</div>


<form method="post" asp-action="GeneraProcesoCifrado">
    <div class="input-group">
        @Html.AntiForgeryToken()
        <div class="input-group mb-3">
            <div class="input-group">
                <span asp-validation-for="Tarjeta.NumeroTarjeta" class="text-danger"></span>
            </div>
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Número Tarjeta</span>
            </div>
            <input class="form-control" asp-for="Tarjeta.NumeroTarjeta" value="@Model.Tarjeta.NumeroTarjeta" type="text" placeholder="Número Tarjeta" />
            <br />
        </div>

        <div class="input-group">
            <button type="submit" class="btn btn-primary">Generar Proceso</button>
        </div>
    </div>
</form>

<br />

<div class="input-group">

    @if (!string.IsNullOrEmpty(Model.Tarjeta.NumeroTarjeta))
    {
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Número de tarjeta</span>
            </div>
            <input class="form-control" value="@Model.Tarjeta.NumeroTarjeta" type="text"/>
            <br />
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.Mascara.CadenaConMascara))
    {
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Tarjeta con mascara</span>
            </div>
            <input class="form-control" value="@Model.Mascara.CadenaConMascara" type="text" />
            <br />
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.TarjetaConHash.Hash))
    {
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Hash de la tarjeta</span>
            </div>
            <input class="form-control"  value="@Model.TarjetaConHash.Hash" type="text" />
            <br />
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.TarjetaEncriptada.CadenaEncriptadaString))
    {
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">tarjeta encriptada</span>
            </div>
            <input class="form-control" value="@Model.TarjetaEncriptada.CadenaEncriptadaString" type="text" />
            <br />
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.TarjetaDesencriptada.CadenaSinEncriptar))
    {
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">tarjeta desencriptada</span>
            </div>
            <input class="form-control" value="@Model.TarjetaDesencriptada.CadenaSinEncriptar" type="text" />
            <br />
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.HashDeTarjetaDesencriptada.Hash))
    {
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Hash de la tarjeta desencriptada</span>
            </div>
            <input class="form-control" value="@Model.HashDeTarjetaDesencriptada.Hash" type="text" />
            <br />
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.TarjetaConHash.Hash) && !string.IsNullOrEmpty(Model.HashDeTarjetaDesencriptada.Hash))
    {
        @if (Model.HashsCoinciden)
        {
            <p>Los hash coinciden</p>
        }
        else
        {
            <div class="input-group mb-3">
                <p>Los hash resultantes no coinciden</p>
            </div>
        }
    }

    <br />

</div>

@section Scripts
{
    @{
        <partial name="_ValidationScriptsPartial" />
    }
}